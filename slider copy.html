<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Carousel.js Auto Carousel Plugin Demo</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<div id="jquery-script-menu">
<div class="jquery-script-center">
<ul>
<li><a href="http://www.jqueryscript.net/slider/Easy-Responsive-Automatic-Carousel-Slider-With-jQuery.html">Download This Plugin</a></li>
<li><a href="http://www.jqueryscript.net/">Back To jQueryScript.Net</a></li>
</ul>
<div class="jquery-script-ads"><script type="text/javascript"><!--
google_ad_client = "ca-pub-2783044520727903";
/* jQuery_demo */
google_ad_slot = "2780937993";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div class="jquery-script-clear"></div>
</div>
</div>
<h1 style="margin:150px auto 30px auto; text-align:center">Carousel.js Auto Carousel Plugin Demo</h1>
    <div class="carousel">
        <ul class="ct clearfix">
            <li><a href="#"><img src="https://unsplash.it/980/400?image=965"></a></li>
            <li><a href="#"><img src="https://unsplash.it/980/400?image=976"></a></li>
            <li><a href="#"><img src="https://unsplash.it/980/400?image=839"></a></li>
            <li><a href="#"><img src="https://unsplash.it/980/400?image=841"></a></li>
        </ul>
        <a href="#" class="arrow pre"><</a>
        <a href="#" class="arrow next">></a>
        <ul class="bullet">
            <li class="active"></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>


<script src="http://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
$.fn.carousel = function(){
    this.each(function() {

        var Carousel = (function(){

            function Carousel($node){
                this.imgCt = $node.find('.ct')
                this.item = this.imgCt.find('li')
                this.itemWidth = this.item.width()
                this.itemCount = this.item.size()
                this.pre = $node.find('.pre')
                this.next = $node.find('.next')
                this.bullet = $node.find('.bullet')

                this.imgCt.prepend(this.item.last().clone())
                this.imgCt.append(this.item.first().clone())

                this.newItemCount = $node.find('.ct').children().size()
                this.imgCt.css({
                    width: this.newItemCount* this.itemWidth,
                    left: -this.itemWidth,
                })

                this.curIdx = 0
                this.isAnimate = false

                this.init()
            }

            Carousel.prototype = {
                bind: function(){
                    var _this = this
                    _this.pre.on('click',function(){
                        _this.doPre()
                    })
                    _this.next.on('click',function(){
                        _this.doNext()
                    })
                    _this.bullet.find('li').on('click',function(){
                        var idx = $(this).index()
                        if(idx<_this.curIdx){
                            _this.doPre(_this.curIdx- idx)
                        }
                        else{
                            _this.doNext(idx- _this.curIdx)
                        }
                    })
                },

                doPre: function(idx){
                    var _this = this
                    idx = idx || 1
                    if(!_this.isAnimate){
                        _this.isAnimate = true
                        _this.stop()
                        _this.imgCt.animate({
                            left: '+=' + _this.itemWidth* idx
                        },function(){
                            _this.curIdx = (_this.itemCount+ _this.curIdx- idx)% _this.itemCount
                            if(_this.curIdx === _this.itemCount- 1){
                                _this.imgCt.css('left', -_this.itemCount* _this.itemWidth)
                            }
                            _this.auto()
                            _this.setBullet()
                            _this.isAnimate = false
                        })
                    }
                },

                doNext: function(idx){
                    var _this = this
                    idx = idx || 1
                    if(!_this.isAnimate){
                        _this.isAnimate = true
                        _this.stop()
                        _this.imgCt.animate({
                            left: '-=' + _this.itemWidth* idx
                        },function(){
                            _this.curIdx = (_this.curIdx+ idx)% _this.itemCount
                            if(_this.curIdx === 0){
                                _this.imgCt.css('left', -_this.itemWidth)
                            }
                            _this.auto()
                            _this.setBullet()
                            _this.isAnimate = false
                        })
                    }
                },

                setBullet: function(){
                   this.bullet.children().removeClass('active').eq(this.curIdx).addClass('active')
               },

                auto: function(){
                    var _this = this
                    this.clock = setInterval(function(){
                                _this.doNext()
                            },2000)
                },

                stop: function(){
                    clearInterval(this.clock)
                },

                init: function(){
                    this.bind()
                    this.auto()
                }

            }

            return Carousel

        })()

        new Carousel($(this))
    })

}



$('.carousel').carousel()

</script>
</body>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</html>
